<% @page_title = "Nouvelle Invitation" %>

<% if flash[:notice] %>
          <div class="notice"><%= flash[:notice] %></div>
        <% end %>
        <% if flash[:alert] %>
          <div class="alert"><%= flash[:alert] %></div>
        <% end %>

        <div class="card">
          <div style="margin-bottom: 24px;">
            <%= link_to "← Retour", admin_invitations_path, class: "btn btn-sm" %>
          </div>
          
          <h2 style="margin-bottom: 32px;">Créer une nouvelle invitation</h2>
          
          <%= form_with model: [:admin, @invitation], local: true do |f| %>
            <div class="form-group">
              <%= f.label :expires_at, "Date d'expiration (optionnel - par défaut 30 jours)" %>
              <%= f.date_field :expires_at, class: "form-control" %>
              <small style="color: var(--text-muted); font-size: 13px; margin-top: 4px; display: block;">
                Laisser vide pour une expiration automatique dans 30 jours
              </small>
            </div>
            
            <div style="margin-top: 32px; display: flex; gap: 16px;">
              <%= f.submit "Créer l'invitation", class: "btn btn-success" %>
              <%= link_to "Annuler", admin_invitations_path, class: "btn btn-secondary" %>
            </div>
          <% end %>
        </div>
        
        <div class="card" style="margin-top: 24px;">
          <h3 style="font-size: 18px; margin-bottom: 16px;">ℹ️ Comment ça marche ?</h3>
          <div style="line-height: 1.8; color: var(--text-secondary);">
            <p>1. Un code unique sera généré automatiquement</p>
            <p>2. Le code sera valable pendant 30 jours (ou jusqu'à la date spécifiée)</p>
            <p>3. Vous pourrez partager le lien avec votre client</p>
            <p>4. Le client suivra les 4 étapes de l'onboarding</p>
            <p>5. Son compte sera créé automatiquement à la fin du processus</p>
          </div>
        </div>