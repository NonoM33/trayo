<% content_for :title, "Paiement réussi" %>

<div class="max-w-2xl mx-auto">
  <!-- Success Animation -->
  <div class="text-center mb-8">
    <div class="w-24 h-24 rounded-full bg-gradient-to-br from-emerald-400 to-teal-500 flex items-center justify-center mx-auto mb-6 animate-bounce shadow-lg shadow-emerald-500/30">
      <i class="fa-solid fa-check text-white text-4xl"></i>
    </div>
    <h1 class="text-3xl font-extrabold text-white mb-2">Paiement réussi !</h1>
    <p class="text-neutral-400">Merci pour votre achat. Vos produits sont maintenant actifs.</p>
  </div>

  <!-- Order Summary -->
  <div class="rounded-xl bg-neutral-900 border border-neutral-800 overflow-hidden mb-6">
    <div class="p-5 border-b border-neutral-800 bg-emerald-500/5">
      <h2 class="font-bold text-white flex items-center gap-2">
        <i class="fa-solid fa-receipt text-emerald-400"></i>
        Récapitulatif de votre commande
      </h2>
    </div>
    
    <div class="p-5 space-y-4">
      <% @purchased_bots.each do |bot| %>
        <div class="flex items-center gap-4 p-3 rounded-lg bg-neutral-800/50">
          <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center">
            <i class="fa-solid fa-robot text-white"></i>
          </div>
          <div class="flex-1">
            <div class="font-medium text-white"><%= bot.name %></div>
            <div class="text-xs text-neutral-500">Bot de trading - Licence à vie</div>
          </div>
          <div class="text-emerald-400 font-semibold"><%= number_to_currency(bot.price, unit: "€", format: "%n%u") %></div>
        </div>
      <% end %>

      <% @purchased_products.each do |product| %>
        <div class="flex items-center gap-4 p-3 rounded-lg bg-neutral-800/50">
          <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-emerald-400 to-teal-500 flex items-center justify-center">
            <i class="fa-solid <%= product.icon %> text-white"></i>
          </div>
          <div class="flex-1">
            <div class="font-medium text-white"><%= product.name %></div>
            <div class="text-xs text-neutral-500"><%= product.interval_label %></div>
          </div>
          <div class="text-emerald-400 font-semibold"><%= number_to_currency(product.price, unit: "€", format: "%n%u") %></div>
        </div>
      <% end %>
    </div>

    <div class="p-5 border-t border-neutral-800 bg-neutral-800/30 flex justify-between items-center">
      <span class="text-neutral-400">Total payé</span>
      <span class="text-2xl font-extrabold text-emerald-400"><%= number_to_currency(@total, unit: "€", format: "%n%u") %></span>
    </div>
  </div>

  <!-- Actions -->
  <div class="flex flex-col sm:flex-row gap-4">
    <% if @purchased_bots.any? %>
      <%= link_to admin_my_bots_path, class: "flex-1 py-3 px-6 rounded-xl bg-blue-600 text-white font-semibold text-center hover:bg-blue-700 transition-colors flex items-center justify-center gap-2" do %>
        <i class="fa-solid fa-robot"></i>
        Voir mes bots
      <% end %>
    <% end %>
    
    <%= link_to admin_dashboard_path, class: "flex-1 py-3 px-6 rounded-xl bg-neutral-800 border border-neutral-700 text-white font-semibold text-center hover:bg-neutral-700 transition-colors flex items-center justify-center gap-2" do %>
      <i class="fa-solid fa-home"></i>
      Retour au dashboard
    <% end %>
  </div>

  <!-- Help -->
  <div class="mt-8 p-4 rounded-lg bg-blue-500/10 border border-blue-500/20 text-center">
    <p class="text-sm text-blue-300">
      <i class="fa-solid fa-info-circle mr-1"></i>
      Une facture vous sera envoyée par email. Besoin d'aide ? 
      <%= link_to "Contactez-nous", admin_support_path, class: "underline hover:text-blue-200" %>
    </p>
  </div>
</div>

