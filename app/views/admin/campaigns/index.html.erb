<% @page_title = "Gestion des Campagnes" %>

<div class="space-y-6">
  <% if flash[:notice] %>
    <div class="flex items-center gap-3 p-4 rounded-xl border border-green-500/20 bg-green-500/10">
      <i class="fa-solid fa-check-circle text-green-400"></i>
      <p class="text-green-300"><%= flash[:notice] %></p>
    </div>
  <% end %>
  <% if flash[:alert] %>
    <div class="flex items-center gap-3 p-4 rounded-xl border border-red-500/20 bg-red-500/10">
      <i class="fa-solid fa-exclamation-circle text-red-400"></i>
      <p class="text-red-300"><%= flash[:alert] %></p>
    </div>
  <% end %>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
    <div class="bg-neutral-900 rounded-xl p-4">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center">
          <i class="fa-solid fa-bullhorn text-purple-400"></i>
        </div>
        <div>
          <p class="text-sm text-neutral-400">Total Campagnes</p>
          <p class="text-2xl font-bold text-white"><%= @campaigns.count %></p>
        </div>
      </div>
    </div>
    
    <div class="bg-neutral-900 rounded-xl p-4">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center">
          <i class="fa-solid fa-play text-green-400"></i>
        </div>
        <div>
          <p class="text-sm text-neutral-400">En Cours</p>
          <p class="text-2xl font-bold text-green-400"><%= @campaigns.respond_to?(:active_current) ? @campaigns.active_current.count : @campaigns.select { |c| c.active_and_current? rescue false }.count %></p>
        </div>
      </div>
    </div>
    
    <div class="bg-neutral-900 rounded-xl p-4">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center">
          <i class="fa-solid fa-clock text-blue-400"></i>
        </div>
        <div>
          <p class="text-sm text-neutral-400">Programmées</p>
          <p class="text-2xl font-bold text-blue-400"><%= @campaigns.select { |c| c.start_date > Time.current rescue false }.count %></p>
        </div>
      </div>
    </div>
    
    <div class="bg-neutral-900 rounded-xl p-4">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-lg bg-amber-500/10 flex items-center justify-center">
          <i class="fa-solid fa-toggle-on text-amber-400"></i>
        </div>
        <div>
          <p class="text-sm text-neutral-400">Actives</p>
          <p class="text-2xl font-bold text-amber-400"><%= @campaigns.respond_to?(:active) ? @campaigns.active.count : @campaigns.select { |c| c.is_active rescue false }.count %></p>
        </div>
      </div>
    </div>
  </div>

  <div class="relative w-full bg-neutral-950 rounded-xl overflow-hidden"
       data-controller="scroll-area"
       data-scroll-area-target="root"
       data-action="mouseenter->scroll-area#onRootMouseEnter mouseleave->scroll-area#onRootMouseLeave">

    <div class="px-6 py-5 flex flex-col md:flex-row md:items-center md:justify-between gap-4 bg-neutral-900">
      <h2 class="text-lg font-semibold text-white flex items-center gap-2">
        <i class="fa-solid fa-bullhorn text-purple-400"></i>
        Liste des Campagnes
      </h2>
      <div data-controller="slideover" id="new-campaign-slideover">
        <button type="button" data-action="slideover#show:prevent" class="flex items-center justify-center gap-1.5 rounded-lg border border-blue-400/30 bg-blue-600 px-3.5 py-2 text-sm font-medium whitespace-nowrap text-white shadow-sm transition-all duration-100 ease-in-out select-none hover:bg-blue-500">
          <i class="fa-solid fa-plus"></i>
          <span>Nouvelle Campagne</span>
        </button>

        <dialog data-slideover-target="dialog" data-action="mousedown->slideover#backdropClose" class="slideover slideover-right fixed inset-0 m-0 ml-auto h-dvh max-h-full border-l border-neutral-800 outline-hidden bg-transparent p-0">
          <div class="flex h-full w-80 flex-col bg-neutral-950 shadow-2xl sm:w-[520px] lg:w-[580px]">
            <div class="flex items-center justify-between border-b border-neutral-800 bg-neutral-900 px-6 py-5">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-white shadow-lg shadow-purple-500/20">
                  <i class="fa-solid fa-bullhorn"></i>
                </div>
                <h4 class="text-lg font-semibold text-white">Nouvelle Campagne</h4>
              </div>
              <button type="button" data-action="slideover#hide:prevent" class="rounded-full p-2 text-neutral-400 transition-colors hover:bg-neutral-800 hover:text-white">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="18" x2="6" y1="6" y2="18"></line>
                  <line x1="6" x2="18" y1="6" y2="18"></line>
                </svg>
              </button>
            </div>
            
            <%= form_with url: admin_campaigns_path, method: :post, class: "flex flex-1 flex-col min-h-0" do |f| %>
              <div class="flex-1 overflow-y-auto p-6 space-y-6 bg-neutral-950">
                <%= render 'campaign_form_fields', f: f, campaign: nil %>
              </div>
              
              <div class="flex items-center gap-3 border-t border-neutral-800 bg-neutral-900 px-6 py-5">
                <button type="submit" class="flex-1 sm:flex-none flex items-center justify-center gap-2 rounded-lg bg-blue-600 px-5 py-2.5 text-sm font-medium text-white shadow-lg shadow-blue-600/25 transition-all hover:bg-blue-500 hover:shadow-blue-500/30 cursor-pointer">
                  <i class="fa-solid fa-plus"></i>
                  Créer la Campagne
                </button>
                <button data-action="slideover#hide:prevent" type="button" class="flex items-center justify-center gap-2 rounded-lg border border-neutral-700 bg-neutral-800 px-5 py-2.5 text-sm font-medium text-neutral-300 transition-all hover:bg-neutral-700 hover:text-white">Annuler</button>
              </div>
            <% end %>
          </div>
        </dialog>
      </div>
    </div>

    <% if @campaigns.any? %>
      <div data-scroll-area-target="viewport"
           data-action="scroll->scroll-area#onViewportScroll"
           class="max-h-[600px] overflow-auto scrollbar-hide bg-neutral-950">
        <table class="w-full min-w-[1000px]">
          <thead class="sticky top-0 z-10 bg-neutral-900">
            <tr class="*:py-3 *:text-left *:align-middle *:[box-shadow:inset_0_-1px_0_0_rgb(46_46_46)]">
              <th scope="col" class="px-6 text-sm font-semibold text-neutral-100">Campagne</th>
              <th scope="col" class="px-6 text-sm font-semibold text-neutral-100">Période</th>
              <th scope="col" class="px-6 text-sm font-semibold text-neutral-100 text-center">Statut</th>
              <th scope="col" class="px-6 text-sm font-semibold text-neutral-100">Progression</th>
              <th scope="col" class="px-6 text-sm font-semibold text-neutral-100 text-right">Actions</th>
            </tr>
          </thead>
          <tbody class="*:even:bg-neutral-900/50 *:*:py-4 bg-neutral-950">
            <% @campaigns.each do |campaign| %>
              <tr class="hover:bg-neutral-800 transition-colors">
                <td class="px-6">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg flex items-center justify-center text-white shrink-0" style="background: <%= campaign.banner_color || '#8b5cf6' %>;">
                      <i class="fa-solid fa-bullhorn text-sm"></i>
                    </div>
                    <div>
                      <p class="font-semibold text-white"><%= campaign.title %></p>
                      <p class="text-xs text-neutral-500 line-clamp-1 max-w-xs"><%= truncate(campaign.description, length: 60) %></p>
                    </div>
                  </div>
                </td>
                <td class="px-6">
                  <div class="text-sm">
                    <p class="font-medium text-white"><%= campaign.start_date.strftime("%d/%m/%Y") %></p>
                    <p class="text-xs text-neutral-500">au <%= campaign.end_date.strftime("%d/%m/%Y") %></p>
                  </div>
                </td>
                <td class="px-6 text-center">
                  <% if campaign.start_date > Time.current %>
                    <span class="inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium bg-blue-400/10 text-blue-400 ring-1 ring-inset ring-blue-400/25">
                      <i class="fa-solid fa-clock text-[10px]"></i>
                      Programmée
                    </span>
                  <% elsif campaign.respond_to?(:active_and_current?) && campaign.active_and_current? %>
                    <span class="inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium bg-green-400/10 text-green-400 ring-1 ring-inset ring-green-400/25">
                      <span class="w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"></span>
                      En Cours
                    </span>
                  <% elsif campaign.is_active %>
                    <span class="inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium bg-amber-400/10 text-amber-400 ring-1 ring-inset ring-amber-400/25">
                      Active
                    </span>
                  <% elsif campaign.end_date < Time.current %>
                    <span class="inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium bg-neutral-400/10 text-neutral-400 ring-1 ring-inset ring-neutral-400/25">
                      Terminée
                    </span>
                  <% else %>
                    <span class="inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium bg-red-400/10 text-red-400 ring-1 ring-inset ring-red-400/25">
                      Inactive
                    </span>
                  <% end %>
                </td>
                <td class="px-6">
                  <% if campaign.start_date > Time.current %>
                    <span class="text-sm text-blue-400">
                      <i class="fa-solid fa-calendar-alt mr-1"></i>
                      Dans <%= distance_of_time_in_words(Time.current, campaign.start_date) %>
                    </span>
                  <% elsif campaign.respond_to?(:current?) && campaign.current? %>
                    <div class="w-32">
                      <div class="h-2 bg-neutral-800 rounded-full overflow-hidden mb-1">
                        <div class="h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full transition-all" style="width: <%= campaign.progress_percentage %>%;"></div>
                      </div>
                      <p class="text-xs text-neutral-400 text-center"><%= campaign.progress_percentage %>% • <%= campaign.days_remaining %> jours</p>
                    </div>
                  <% else %>
                    <span class="text-sm text-neutral-500">—</span>
                  <% end %>
                </td>
                <td class="px-6">
                  <div class="flex items-center justify-end gap-2">
                    <div data-controller="slideover">
                      <button type="button" data-action="slideover#show:prevent" class="flex items-center justify-center w-8 h-8 rounded-lg border border-neutral-700 bg-neutral-800 text-neutral-300 hover:bg-neutral-700 hover:text-white transition-colors" title="Voir">
                        <i class="fa-solid fa-eye text-xs"></i>
                      </button>

                      <dialog data-slideover-target="dialog" data-action="mousedown->slideover#backdropClose" class="slideover slideover-right fixed inset-0 m-0 ml-auto h-dvh max-h-full border-l border-neutral-800 outline-hidden bg-transparent p-0">
                        <div class="flex h-full w-80 flex-col bg-neutral-950 shadow-2xl sm:w-[520px] lg:w-[580px]">
                          <div class="flex items-center justify-between border-b border-neutral-800 bg-neutral-900 px-6 py-5">
                            <div class="flex items-center gap-3">
                              <div class="w-10 h-10 rounded-xl flex items-center justify-center text-white shadow-lg" style="background: <%= campaign.banner_color || '#8b5cf6' %>;">
                                <i class="fa-solid fa-bullhorn"></i>
                              </div>
                              <div>
                                <h4 class="text-lg font-semibold text-white"><%= campaign.title %></h4>
                                <% if campaign.respond_to?(:active_and_current?) && campaign.active_and_current? %>
                                  <span class="text-xs text-green-400"><i class="fa-solid fa-circle text-[6px] mr-1 animate-pulse"></i> En cours</span>
                                <% elsif campaign.is_active %>
                                  <span class="text-xs text-amber-400">Active</span>
                                <% else %>
                                  <span class="text-xs text-neutral-500">Inactive</span>
                                <% end %>
                              </div>
                            </div>
                            <button type="button" data-action="slideover#hide:prevent" class="rounded-full p-2 text-neutral-400 transition-colors hover:bg-neutral-800 hover:text-white">
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="18" x2="6" y1="6" y2="18"></line>
                                <line x1="6" x2="18" y1="6" y2="18"></line>
                              </svg>
                            </button>
                          </div>
                          
                          <div class="flex-1 overflow-y-auto p-6 space-y-6 bg-neutral-950">
                            <div class="p-4 rounded-xl border border-neutral-800 bg-neutral-900/50 space-y-3">
                              <h5 class="text-sm font-semibold text-neutral-300 flex items-center gap-2">
                                <i class="fa-solid fa-info-circle text-blue-400"></i>
                                Informations
                              </h5>
                              <div class="grid grid-cols-2 gap-4 text-sm">
                                <div>
                                  <p class="text-neutral-500">Date de début</p>
                                  <p class="text-white font-medium"><%= campaign.start_date.strftime("%d/%m/%Y à %H:%M") %></p>
                                </div>
                                <div>
                                  <p class="text-neutral-500">Date de fin</p>
                                  <p class="text-white font-medium"><%= campaign.end_date.strftime("%d/%m/%Y à %H:%M") %></p>
                                </div>
                                <div>
                                  <p class="text-neutral-500">Jours restants</p>
                                  <% if campaign.respond_to?(:active_and_current?) && campaign.active_and_current? %>
                                    <p class="text-green-400 font-bold"><%= campaign.days_remaining %> jours</p>
                                  <% else %>
                                    <p class="text-neutral-400">—</p>
                                  <% end %>
                                </div>
                                <div>
                                  <p class="text-neutral-500">Couleur bannière</p>
                                  <div class="flex items-center gap-2">
                                    <div class="w-5 h-5 rounded border border-neutral-700" style="background: <%= campaign.banner_color %>;"></div>
                                    <code class="text-xs text-neutral-400"><%= campaign.banner_color %></code>
                                  </div>
                                </div>
                              </div>
                              <% if campaign.respond_to?(:current?) && campaign.current? %>
                                <div class="pt-3 border-t border-neutral-800">
                                  <p class="text-neutral-500 text-sm mb-2">Progression</p>
                                  <div class="h-3 bg-neutral-800 rounded-full overflow-hidden">
                                    <div class="h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full" style="width: <%= campaign.progress_percentage %>%;"></div>
                                  </div>
                                  <p class="text-xs text-neutral-400 mt-1"><%= campaign.progress_percentage %>% complété</p>
                                </div>
                              <% end %>
                            </div>

                            <% if campaign.description.present? %>
                              <div class="p-4 rounded-xl border border-neutral-800 bg-neutral-900/50 space-y-3">
                                <h5 class="text-sm font-semibold text-neutral-300 flex items-center gap-2">
                                  <i class="fa-solid fa-align-left text-purple-400"></i>
                                  Description
                                </h5>
                                <p class="text-sm text-neutral-300 whitespace-pre-wrap"><%= campaign.description %></p>
                              </div>
                            <% end %>

                            <div class="p-4 rounded-xl border border-neutral-800 bg-neutral-900/50 space-y-3">
                              <h5 class="text-sm font-semibold text-neutral-300 flex items-center gap-2">
                                <i class="fa-solid fa-window-maximize text-amber-400"></i>
                                Popup
                              </h5>
                              <div class="space-y-3 text-sm">
                                <div>
                                  <p class="text-neutral-500">Titre</p>
                                  <p class="text-white font-medium"><%= campaign.popup_title.presence || 'Non défini' %></p>
                                </div>
                                <% if campaign.popup_message.present? %>
                                  <div>
                                    <p class="text-neutral-500">Message</p>
                                    <p class="text-neutral-300 whitespace-pre-wrap"><%= campaign.popup_message %></p>
                                  </div>
                                <% end %>
                                <% if campaign.respond_to?(:has_button?) && campaign.has_button? %>
                                  <div class="pt-2 border-t border-neutral-800">
                                    <p class="text-neutral-500 mb-2">Bouton</p>
                                    <div class="flex items-center gap-2">
                                      <span class="px-3 py-1.5 rounded-lg text-sm font-medium text-white" style="background: <%= campaign.banner_color %>;">
                                        <%= campaign.button_text %>
                                      </span>
                                      <span class="text-xs text-neutral-500">→ <%= campaign.button_url %></span>
                                    </div>
                                  </div>
                                <% end %>
                              </div>
                            </div>

                            <% if campaign.respond_to?(:bonus_periods) && campaign.bonus_periods.any? %>
                              <div class="p-4 rounded-xl border border-neutral-800 bg-neutral-900/50 space-y-3">
                                <h5 class="text-sm font-semibold text-neutral-300 flex items-center gap-2">
                                  <i class="fa-solid fa-gift text-green-400"></i>
                                  Périodes Bonus (<%= campaign.bonus_periods.count %>)
                                </h5>
                                <div class="space-y-2">
                                  <% campaign.bonus_periods.each do |period| %>
                                    <div class="flex items-center justify-between p-2 rounded-lg bg-neutral-800/50">
                                      <div>
                                        <p class="text-sm font-medium text-white"><%= period.name || "Sans nom" %></p>
                                        <p class="text-xs text-neutral-500"><%= period.start_date.strftime("%d/%m") %> - <%= period.end_date.strftime("%d/%m/%Y") %></p>
                                      </div>
                                      <span class="text-green-400 font-bold">+<%= number_to_percentage(period.bonus_percentage, precision: 0) %></span>
                                    </div>
                                  <% end %>
                                </div>
                              </div>
                            <% end %>

                            <div class="p-4 rounded-xl border border-neutral-800 bg-neutral-900/50 space-y-3">
                              <h5 class="text-sm font-semibold text-neutral-300 flex items-center gap-2">
                                <i class="fa-solid fa-clock text-cyan-400"></i>
                                Métadonnées
                              </h5>
                              <div class="grid grid-cols-2 gap-4 text-sm">
                                <div>
                                  <p class="text-neutral-500">Créée le</p>
                                  <p class="text-white"><%= campaign.created_at&.strftime("%d/%m/%Y à %H:%M") %></p>
                                </div>
                                <div>
                                  <p class="text-neutral-500">Modifiée le</p>
                                  <p class="text-white"><%= campaign.updated_at&.strftime("%d/%m/%Y à %H:%M") %></p>
                                </div>
                              </div>
                            </div>
                          </div>
                          
                          <div class="flex items-center gap-3 border-t border-neutral-800 bg-neutral-900 px-6 py-5">
                            <button data-action="slideover#hide:prevent" type="button" class="flex-1 flex items-center justify-center gap-2 rounded-lg border border-neutral-700 bg-neutral-800 px-5 py-2.5 text-sm font-medium text-neutral-300 transition-all hover:bg-neutral-700 hover:text-white">Fermer</button>
                          </div>
                        </div>
                      </dialog>
                    </div>
                    
                    <div data-controller="slideover">
                      <button type="button" data-action="slideover#show:prevent" class="flex items-center justify-center w-8 h-8 rounded-lg border border-amber-400/30 bg-amber-500 text-white hover:bg-amber-400 transition-colors" title="Modifier">
                        <i class="fa-solid fa-pen text-xs"></i>
                      </button>

                      <dialog data-slideover-target="dialog" data-action="mousedown->slideover#backdropClose" class="slideover slideover-right fixed inset-0 m-0 ml-auto h-dvh max-h-full border-l border-neutral-800 outline-hidden bg-transparent p-0">
                        <div class="flex h-full w-80 flex-col bg-neutral-950 shadow-2xl sm:w-[520px] lg:w-[580px]">
                          <div class="flex items-center justify-between border-b border-neutral-800 bg-neutral-900 px-6 py-5">
                            <div class="flex items-center gap-3">
                              <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-white shadow-lg shadow-amber-500/20">
                                <i class="fa-solid fa-pen"></i>
                              </div>
                              <h4 class="text-lg font-semibold text-white">Modifier <%= campaign.title %></h4>
                            </div>
                            <button type="button" data-action="slideover#hide:prevent" class="rounded-full p-2 text-neutral-400 transition-colors hover:bg-neutral-800 hover:text-white">
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="18" x2="6" y1="6" y2="18"></line>
                                <line x1="6" x2="18" y1="6" y2="18"></line>
                              </svg>
                            </button>
                          </div>
                          
                          <%= form_with url: admin_campaign_path(campaign), method: :patch, class: "flex flex-1 flex-col min-h-0" do |f| %>
                            <div class="flex-1 overflow-y-auto p-6 space-y-6 bg-neutral-950">
                              <%= render 'campaign_form_fields', f: f, campaign: campaign %>
                            </div>
                            
                            <div class="flex items-center gap-3 border-t border-neutral-800 bg-neutral-900 px-6 py-5">
                              <button type="submit" class="flex-1 sm:flex-none flex items-center justify-center gap-2 rounded-lg bg-amber-500 px-5 py-2.5 text-sm font-medium text-white shadow-lg shadow-amber-500/25 transition-all hover:bg-amber-400 cursor-pointer">
                                <i class="fa-solid fa-save"></i>
                                Enregistrer
                              </button>
                              <button data-action="slideover#hide:prevent" type="button" class="flex items-center justify-center gap-2 rounded-lg border border-neutral-700 bg-neutral-800 px-5 py-2.5 text-sm font-medium text-neutral-300 transition-all hover:bg-neutral-700 hover:text-white">Annuler</button>
                            </div>
                          <% end %>
                        </div>
                      </dialog>
                    </div>
                    
                    <%= button_to toggle_active_admin_campaign_path(campaign), method: :post, class: "flex items-center justify-center w-8 h-8 rounded-lg border #{campaign.is_active ? 'border-red-400/30 bg-red-600 hover:bg-red-500' : 'border-green-400/30 bg-green-600 hover:bg-green-500'} text-white transition-colors", title: campaign.is_active ? 'Désactiver' : 'Activer' do %>
                      <i class="fa-solid fa-<%= campaign.is_active ? 'pause' : 'play' %> text-xs"></i>
                    <% end %>
                    
                    <%= button_to admin_campaign_path(campaign), method: :delete, data: { turbo_confirm: "Supprimer cette campagne ?" }, class: "flex items-center justify-center w-8 h-8 rounded-lg border border-red-400/30 bg-red-600 text-white hover:bg-red-500 transition-colors", title: "Supprimer" do %>
                      <i class="fa-solid fa-trash text-xs"></i>
                    <% end %>
                  </div>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>

      <div data-scroll-area-target="scrollbar"
           data-scroll-area-orientation-value="vertical"
           data-action="click->scroll-area#onScrollbarClick"
           class="absolute right-2 top-20 bottom-4 flex w-1.5 justify-center rounded-full bg-black/5 backdrop-blur-sm opacity-0 transition-opacity duration-150 delay-300 pointer-events-none data-[hovering]:opacity-100 data-[hovering]:duration-100 data-[hovering]:delay-0 data-[hovering]:pointer-events-auto data-[scrolling]:opacity-100 data-[scrolling]:duration-100 data-[scrolling]:delay-0 data-[scrolling]:pointer-events-auto data-[visible=false]:hidden dark:bg-white/10">
        <div data-scroll-area-target="thumb"
             data-action="mousedown->scroll-area#onThumbMouseDown"
             class="relative w-full rounded-full bg-neutral-500 transition-opacity duration-100 dark:bg-neutral-400"></div>
      </div>
    <% else %>
      <div class="text-center py-16 px-6 bg-neutral-950">
        <div class="w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-purple-500/20 to-pink-500/20 flex items-center justify-center">
          <i class="fa-solid fa-bullhorn text-4xl text-purple-400"></i>
        </div>
        <h3 class="text-xl font-bold text-white mb-2">Aucune Campagne</h3>
        <p class="text-neutral-400 mb-8 max-w-md mx-auto">Créez votre première campagne marketing pour commencer.</p>
        <button type="button" onclick="document.querySelector('#new-campaign-slideover button[data-action]').click()" class="inline-flex items-center justify-center gap-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-600 px-6 py-3 text-sm font-medium text-white shadow-lg shadow-purple-600/25 transition-all hover:shadow-purple-500/40 hover:scale-[1.02]">
          <i class="fa-solid fa-plus"></i>
          Créer une Campagne
        </button>
      </div>
    <% end %>
  </div>
</div>
